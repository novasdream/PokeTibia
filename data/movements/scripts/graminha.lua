function onStepIn(cid, item, pos)


d0 = 
{
  
  [0] = {pokemon = 'Caterpie s'}, 

	[1] = {pokemon = 'Weedle s'},
 
	[2] = {pokemon = 'Rattata s'},

	[3] = {pokemon = 'Paras_s'},




        [4] = {pokemon = 'Dunsparce s'}, 

	[5] = {pokemon = 'Oddish s'},
 
	[6] = {pokemon = 'Pidgey s'},

	[7] = {pokemon = 'Bellsprout s'},

}


d20 = 
{
   
  [0] = {pokemon = 'Caterpie s'}, 

	[1] = {pokemon = 'Weedle s'},
 
	[2] = {pokemon = 'Rattata s'},

	[3] = {pokemon = 'Paras_s'},




        [4] = {pokemon = 'Dunsparce s'}, 

	[5] = {pokemon = 'Oddish s'},
 
	[6] = {pokemon = 'Pidgey s'},

	[7] = {pokemon = 'Bellsprout s'},




         [8] = {pokemon = 'Exeggcute s'}, 

	[9] = {pokemon = 'Hoppip s'},
 
	[10] = {pokemon = 'Kakuna s'},

	[11] = {pokemon = 'Ledyba s'},




        [12] = {pokemon = 'Pineco s'}, 

	[13] = {pokemon = 'Spearow s'},
 
	[14] = {pokemon = 'Spinarak s'},

	[15] = {pokemon = 'Sunkern s'},




         
	[16] = {pokemon = 'Venonat s'},

	[17] = {pokemon = 'Metapod s'},

}


d40 = 
{
   
  [0] = {pokemon = 'Caterpie s'}, 

	[1] = {pokemon = 'Weedle s'},
 
	[2] = {pokemon = 'Rattata s'},

	[3] = {pokemon = 'Paras_s'},




        [4] = {pokemon = 'Dunsparce s'}, 

	[5] = {pokemon = 'Oddish s'},
 
	[6] = {pokemon = 'Pidgey s'},

	[7] = {pokemon = 'Bellsprout s'},




         [8] = {pokemon = 'Exeggcute s'}, 

	[9] = {pokemon = 'Hoppip s'},
 
	[10] = {pokemon = 'Kakuna s'},

	[11] = {pokemon = 'Ledyba s'},




        [12] = {pokemon = 'Pineco s'}, 

	[13] = {pokemon = 'Spearow s'},
 
	[14] = {pokemon = 'Spinarak s'},

	[15] = {pokemon = 'Sunkern s'},




         
	[16] = {pokemon = 'Venonat s'},

	[17] = {pokemon = 'Metapod s'},




	[18] = {pokemon = 'Bulbasaur s'}, 

	[19] = {pokemon = 'Doduo s'},

	[20] = {pokemon = 'Gloom s'}, 

	[21] = {pokemon = 'Mankey s'},

	[22] = {pokemon = 'Raticate s'},

	[23] = {pokemon = 'Sentret s'},

	[24] = {pokemon = 'Weepinbell s'},

}


d60 = 
{
   
  [0] = {pokemon = 'Caterpie s'}, 

	[1] = {pokemon = 'Weedle s'},
 
	[2] = {pokemon = 'Rattata s'},

	[3] = {pokemon = 'Paras_s'},




        [4] = {pokemon = 'Dunsparce s'}, 

	[5] = {pokemon = 'Oddish s'},
 
	[6] = {pokemon = 'Pidgey s'},

	[7] = {pokemon = 'Bellsprout s'},




         [8] = {pokemon = 'Exeggcute s'}, 

	[9] = {pokemon = 'Hoppip s'},
 
	[10] = {pokemon = 'Kakuna s'},

	[11] = {pokemon = 'Ledyba s'},




        [12] = {pokemon = 'Pineco s'}, 

	[13] = {pokemon = 'Spearow s'},
 
	[14] = {pokemon = 'Spinarak s'},

	[15] = {pokemon = 'Sunkern s'},




         
	[16] = {pokemon = 'Venonat s'},

	[17] = {pokemon = 'Metapod s'},




	[18] = {pokemon = 'Bulbasaur s'}, 

	[19] = {pokemon = 'Doduo s'},

	[20] = {pokemon = 'Gloom s'}, 

	[21] = {pokemon = 'Mankey s'},

	[22] = {pokemon = 'Raticate s'},

	[23] = {pokemon = 'Sentret s'},

	[24] = {pokemon = 'Weepinbell s'},




	[25] = {pokemon = 'Beedrill s'},

	[26] = {pokemon = 'Butterfree s'},

	[27] = {pokemon = 'Pidgeotto s'},

}


d80 =
{
  
 [0] = {pokemon = 'Caterpie s'}, 

	[1] = {pokemon = 'Weedle s'},
 
	[2] = {pokemon = 'Rattata s'},

	[3] = {pokemon = 'Paras_s'},




        [4] = {pokemon = 'Dunsparce s'}, 

	[5] = {pokemon = 'Oddish s'},
 
	[6] = {pokemon = 'Pidgey s'},

	[7] = {pokemon = 'Bellsprout s'},




         [8] = {pokemon = 'Exeggcute s'}, 

	[9] = {pokemon = 'Hoppip s'},
 
	[10] = {pokemon = 'Kakuna s'},

	[11] = {pokemon = 'Ledyba s'},




        [12] = {pokemon = 'Pineco s'}, 

	[13] = {pokemon = 'Spearow s'},
 
	[14] = {pokemon = 'Spinarak s'},

	[15] = {pokemon = 'Sunkern s'},




         
	[16] = {pokemon = 'Venonat s'},

	[17] = {pokemon = 'Metapod s'},




	[18] = {pokemon = 'Bulbasaur s'}, 

	[19] = {pokemon = 'Doduo s'},

	[20] = {pokemon = 'Gloom s'}, 

	[21] = {pokemon = 'Mankey s'},

	[22] = {pokemon = 'Raticate s'},

	[23] = {pokemon = 'Sentret s'},

	[24] = {pokemon = 'Weepinbell s'},




	[25] = {pokemon = 'Beedrill s'},

	[26] = {pokemon = 'Butterfree s'},

	[27] = {pokemon = 'Pidgeotto s'},




	[28] = {pokemon = 'Dodrio s'},

	[29] = {pokemon = 'Furret s'},

	[30] = {pokemon = 'Sunflora s'},


}

d100 = 
{
   
 [0] = {pokemon = 'Caterpie s'}, 

	[1] = {pokemon = 'Weedle s'},
 
	[2] = {pokemon = 'Rattata s'},

	[3] = {pokemon = 'Paras_s'},




        [4] = {pokemon = 'Dunsparce s'}, 

	[5] = {pokemon = 'Oddish s'},
 
	[6] = {pokemon = 'Pidgey s'},

	[7] = {pokemon = 'Bellsprout s'},




         [8] = {pokemon = 'Exeggcute s'}, 

	[9] = {pokemon = 'Hoppip s'},
 
	[10] = {pokemon = 'Kakuna s'},

	[11] = {pokemon = 'Ledyba s'},




        [12] = {pokemon = 'Pineco s'}, 

	[13] = {pokemon = 'Spearow s'},
 
	[14] = {pokemon = 'Spinarak s'},

	[15] = {pokemon = 'Sunkern s'},




         
	[16] = {pokemon = 'Venonat s'},

	[17] = {pokemon = 'Metapod s'},




	[18] = {pokemon = 'Bulbasaur s'}, 

	[19] = {pokemon = 'Doduo s'},

	[20] = {pokemon = 'Gloom s'}, 

	[21] = {pokemon = 'Mankey s'},

	[22] = {pokemon = 'Raticate s'},

	[23] = {pokemon = 'Sentret s'},

	[24] = {pokemon = 'Weepinbell s'},




	[25] = {pokemon = 'Beedrill s'},

	[26] = {pokemon = 'Butterfree s'},

	[27] = {pokemon = 'Pidgeotto s'},




	[28] = {pokemon = 'Dodrio s'},

	[29] = {pokemon = 'Furret s'},

	[30] = {pokemon = 'Sunflora s'},





        [31] = {pokemon = 'Ariados s'},

	[32] = {pokemon = 'Ivysaur s'},


}

if(isPlayer(cid)) then
	if(item.itemid == 2781) then
	
	
		local skill = getPlayerSkillLevel(cid, 2)
	
	local playerpos = {x=getCreaturePosition(cid).x, y=getCreaturePosition(cid).y+1, z=getCreaturePosition(cid).z}
	
	local cidpos = {x=getCreaturePosition(cid).x, y=getCreaturePosition(cid).y, z=getCreaturePosition(cid).z}
	
	doSendMagicEffect(cidpos, 79)
    
    doPlayerAddSkillTry(cid, 6, 1)

      
  if skill >= 100 then
       
     local random = math.random(0, 80)
     
       if random <= 22 then
         
       doSummonCreature(d100[random].pokemon, playerpos)
   
             return true
            end
        else
      
      if skill >= 80 then
          
      local random = math.random(0, 80)
          
      if random <= 22 then
             
       doSummonCreature(d80[random].pokemon, playerpos)
    
                return true
                end
            else
   
             if skill >= 60 then
     
               local random = math.random(0, 80)
      
              if random <= 22 then
            
            doSummonCreature(d60[random].pokemon, playerpos)
      
                  return true
                    end
                else
      
              if skill >= 40 then
                 
       local random = math.random(0, 80)
   
                     if random <= 10 then
            
                doSummonCreature(d40[random].pokemon, playerpos)
              
              return true
                        end
                    else
                 
       if skill >= 20 then
         
                   local random = math.random(0, 80)
         
                   if random <= 6 then
                 
               doSummonCreature(d20[random].pokemon, playerpos)
      
                          return true
                            end
                        else
		
					if skill >= 0 and skill < 20 then
               
                 local random = math.random(0, 80)
                         
       if random <= 3 then
                              
      doSummonCreature(d0[random].pokemon, playerpos)
         
                           return true
                                end
								return true
							end
							return true
						end
						return true
					end
				end
			end
		end
	end
end		
		
		

return true
end

